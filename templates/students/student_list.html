{% extends 'back_office/back_office_base.html' %}
{% load i18n %}
{% load bootstrap_label %}
{% block title %}
Students
{% endblock %}
{% block container %}
<div class="row">
    <div class="col-md-9">
        <a class="btn btn-default" href="{% url 'student-new' %}">New Studnet</a>
    </div>
    <div class="col-md-3">
        <form class="form-inline" method="get">
            <div class="form-group">
                <input type="text" id='q' name='q' class="form-control" placeholder="Search">
                <button type="submit" class="btn btn-default">Seach</button>
            </div>
        </form>
    </div>
</div>
{% if students %}
<table class="table table-hover table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Civil Id</th>
            <th>Gender</th>
            <th>Status</th>
            <th>Mobile#</th>
            <th>Parent#</th>
            <th>Class</th>
        </tr>
    </thead>
    <tbody>
        {% for studnet in students %}
        <tr>
            <td>
                <a href="{% url 'student-detail' studnet.pk %}">
                    {{ studnet.pk }}
                </a>
            </td>
            <td>
                <a href="{% url 'student-detail' studnet.pk %}">
                    {{ studnet.user.get_full_name }}
                </a>
            </td>
            <td>{{ studnet.civil_id }}</td>
            <td>{{ studnet.get_gender_display }}</td>
            <td>{{ studnet.get_status_display | student_status_label}}</td>
            <td>{{ studnet.mobile_number }}</td>
            <td>{{ studnet.parent_number }}</td>
            <td>{{ studnet.halaqat_class }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% include "parts/paginator.html" %}
{% else %}
<p class="lead">No Students to display</p>
{% endif %}
{% endblock %}
{% block scripts %}
<script>
// $(function(){
//     $(".paginator_link").attr("href", function() {
//         console.log(this);
//         page = $(this).data('page');
//         href = window.location;
//         return href + '&page=' + page;
//     });
// });
</script>
{% endblock %}
